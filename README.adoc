// SPDX-License-Identifier: PMPL-1.0-or-later
= WokeLang SSG - General-Purpose Static Site Generator
:toc:
:toclevels: 3

== Overview

WokeLang SSG is a general-purpose static site generator written *in WokeLang itself*.

Part of the **poly-ssg** family (alongside casket-ssg, hackenbush-ssg, etc.), it provides:

1. **SSG Tool** - Generate static sites from markdown + frontmatter
2. **WokeLang Showcase** - Demonstrates consent-driven computing, gratitude system, and emotive programming
3. **MCP Integration** - Works with poly-ssg-mcp for SSG operations

== Architecture

=== Technology Stack

[source]
----
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend (ReScript)           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ cadre-tea-router        â”‚    â”‚  Routing
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ rescript-tea            â”‚    â”‚  TEA Architecture
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ a2ml                    â”‚    â”‚  Positioning/Layout
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SSG Engine (WokeLang)         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ssg/main.woke           â”‚    â”‚  Main SSG logic
â”‚  â”‚ ssg/markdown.woke       â”‚    â”‚  Markdown parser
â”‚  â”‚ ssg/templates.woke      â”‚    â”‚  Template engine
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Runtime (Rust)                â”‚
â”‚  WokeLang interpreter           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   FFI/ABI Layer                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚Idris ABI â”‚  â”‚ Zig FFI  â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
----

=== Components

**SSG (WokeLang)** - `ssg/*.woke`

- Written in WokeLang
- Demonstrates consent-driven file I/O
- Shows gratitude system for dependencies
- Uses emotive programming for build feedback

**Frontend (ReScript + TEA)**

- ReScript for type-safe UI
- rescript-tea for TEA architecture
- cadre-tea-router for proven-safe routing
- a2ml for positioning/layout

**FFI/ABI (Zig + Idris2)**

- Idris2 ABI: Formally verified interface definitions
- Zig FFI: C-compatible implementation
- Follows hyperpolymath ABI/FFI universal standard

== Usage

=== Build the Site

[source,bash]
----
# Run the WokeLang SSG
wokelang ssg/main.woke

# Or use the CLI wrapper
./build.sh
----

=== Development Server

[source,bash]
----
# Serve with live reload
./serve.sh
----

== Directory Structure

[source]
----
wokelang-ssg/
â”œâ”€â”€ ssg/                    # WokeLang SSG source
â”‚   â”œâ”€â”€ main.woke          # Main entry point
â”‚   â”œâ”€â”€ markdown.woke      # Markdown parsing
â”‚   â”œâ”€â”€ templates.woke     # Template rendering
â”‚   â””â”€â”€ feeds.woke         # RSS/Atom generation
â”‚
â”œâ”€â”€ frontend/              # ReScript frontend
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.res       # Main app
â”‚   â”‚   â”œâ”€â”€ Router.res    # Routing (cadre-tea-router)
â”‚   â”‚   â””â”€â”€ Layout.res    # Layout (a2ml)
â”‚   â”œâ”€â”€ rescript.json
â”‚   â””â”€â”€ deno.json
â”‚
â”œâ”€â”€ content/               # Site content (markdown)
â”‚   â”œâ”€â”€ index.md
â”‚   â”œâ”€â”€ docs/
â”‚   â””â”€â”€ examples/
â”‚
â”œâ”€â”€ templates/             # HTML templates
â”‚   â”œâ”€â”€ base.html
â”‚   â”œâ”€â”€ page.html
â”‚   â””â”€â”€ index.html
â”‚
â”œâ”€â”€ static/                # Static assets
â”‚   â”œâ”€â”€ css/
â”‚   â”œâ”€â”€ js/
â”‚   â””â”€â”€ images/
â”‚
â”œâ”€â”€ public/                # Generated output
â”‚
â”œâ”€â”€ src/abi/               # Idris2 ABI
â”‚   â”œâ”€â”€ Types.idr
â”‚   â”œâ”€â”€ Layout.idr
â”‚   â””â”€â”€ Foreign.idr
â”‚
â””â”€â”€ ffi/zig/               # Zig FFI
    â””â”€â”€ src/main.zig
----

== WokeLang Features Demonstrated

=== Consent-Driven Computing

[source,woke]
----
consent for file.read:content {
    consent for file.write:public {
        buildSite(config);
    } or {
        print("âŒ Cannot build without write permission");
    }
}
----

=== Gratitude System

[source,woke]
----
thanks to "pulldown-cmark" for markdown parsing;
thanks to "tera" for templating;
thanks to "walkdir" for file traversal;
----

=== Emotive Programming

[source,woke]
----
@cheerful
to buildSite(config: SiteConfig) {
    print("ğŸš€ Building your beautiful site!");
}

@concerned
when buildFailed {
    print("âš ï¸  Build encountered issues");
}
----

== License

PMPL-1.0-or-later (Palimpsest License)

Copyright (c) 2026 Jonathan D.A. Jewell

== Contributing

See link:CONTRIBUTING.md[CONTRIBUTING.md]
